(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"9nIV":function(t,e,c){"use strict";c.r(e);var s=c("mg/X"),n=(c("O8Zc"),c("6CUI")),l=c.n(n),a=c("vI+7"),o=c("Ve5K"),r=c("yMVk"),u=c("B1Ou"),b=(c("rBNI"),c("W6qR"));c("aAur");function i(t,e,c){const s=Object.create(t);return s.user=e[c],s}function j(t){var e,c;return{c(){e=Object(s.u)("div"),c=Object(s.u)("i"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"I",{class:!0},!1),Object(s.k)(c).forEach(s.t),n.forEach(s.t),this.h()},h(){Object(s.f)(c,"class","icon-spinner svelte-bzxj5"),Object(s.f)(e,"class","loading svelte-bzxj5")},m(t,n){Object(s.B)(t,e,n),Object(s.d)(e,c)},d(t){t&&Object(s.t)(e)}}}function O(t){var e,c,n,l,a=t.user.username+"";return{c(){e=Object(s.u)("span"),c=Object(s.R)("Bienvenido "),n=Object(s.u)("span"),l=Object(s.R)(a),this.h()},l(t){e=Object(s.l)(t,"SPAN",{slot:!0},!1);var o=Object(s.k)(e);c=Object(s.n)(o,"Bienvenido "),n=Object(s.l)(o,"SPAN",{class:!0},!1);var r=Object(s.k)(n);l=Object(s.n)(r,a),r.forEach(s.t),o.forEach(s.t),this.h()},h(){Object(s.f)(n,"class","username"),Object(s.f)(e,"slot","title")},m(t,a){Object(s.B)(t,e,a),Object(s.d)(e,c),Object(s.d)(e,n),Object(s.d)(n,l)},p:s.F,d(t){t&&Object(s.t)(e)}}}function d(t){var e,c;return{c(){e=Object(s.u)("p"),c=Object(s.R)("No hay usuarios conectados"),this.h()},l(t){e=Object(s.l)(t,"P",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.n)(n,"No hay usuarios conectados"),n.forEach(s.t),this.h()},h(){Object(s.f)(e,"class","no-users svelte-bzxj5")},m(t,n){Object(s.B)(t,e,n),Object(s.d)(e,c)},p:s.F,d(t){t&&Object(s.t)(e)}}}function h(t){var e,c,n,l,a=[],o=new Map;let r=t.users;const u=t=>t.user;for(let e=0;e<r.length;e+=1){let c=i(t,r,e),s=u(c);o.set(s,a[e]=f(s,c))}return{c(){e=Object(s.u)("h3"),c=Object(s.R)("Usuarios conectados"),n=Object(s.Q)(),l=Object(s.u)("div");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=Object(s.l)(t,"H3",{class:!0},!1);var o=Object(s.k)(e);c=Object(s.n)(o,"Usuarios conectados"),o.forEach(s.t),n=Object(s.m)(t),l=Object(s.l)(t,"DIV",{class:!0},!1);var r=Object(s.k)(l);for(let t=0;t<a.length;t+=1)a[t].l(r);r.forEach(s.t),this.h()},h(){Object(s.f)(e,"class","svelte-bzxj5"),Object(s.f)(l,"class","user-list svelte-bzxj5")},m(t,o){Object(s.B)(t,e,o),Object(s.d)(e,c),Object(s.B)(t,n,o),Object(s.B)(t,l,o);for(let t=0;t<a.length;t+=1)a[t].m(l,null)},p(t,e){const c=e.users;a=Object(s.V)(a,t,u,1,e,c,o,l,s.r,f,null,i)},d(t){t&&(Object(s.t)(e),Object(s.t)(n),Object(s.t)(l));for(let t=0;t<a.length;t+=1)a[t].d()}}}function f(t,e){var c,n,l,a,o,r,u,b,i=e.user+"";return{key:t,first:null,c(){c=Object(s.u)("div"),n=Object(s.u)("span"),l=Object(s.R)(i),a=Object(s.Q)(),o=Object(s.u)("span"),r=Object(s.u)("audio"),b=Object(s.Q)(),this.h()},l(t){c=Object(s.l)(t,"DIV",{class:!0},!1);var e=Object(s.k)(c);n=Object(s.l)(e,"SPAN",{class:!0},!1);var u=Object(s.k)(n);l=Object(s.n)(u,i),u.forEach(s.t),a=Object(s.m)(e),o=Object(s.l)(e,"SPAN",{class:!0},!1);var j=Object(s.k)(o);r=Object(s.l)(j,"AUDIO",{"data-audio":!0,autoplay:!0,hidden:!0},!1),Object(s.k)(r).forEach(s.t),j.forEach(s.t),b=Object(s.m)(e),e.forEach(s.t),this.h()},h(){Object(s.f)(n,"class","username svelte-bzxj5"),Object(s.f)(r,"data-audio",u=e.user),r.autoplay=!0,r.hidden=!0,Object(s.f)(o,"class","actions svelte-bzxj5"),Object(s.f)(c,"class","user svelte-bzxj5"),Object(s.S)(c,"calling","calling"==e.status),Object(s.S)(c,"user-talking",e.status==`user-talking:${e.user}`),Object(s.S)(c,"talking","talking"==e.status),this.first=c},m(t,e){Object(s.B)(t,c,e),Object(s.d)(c,n),Object(s.d)(n,l),Object(s.d)(c,a),Object(s.d)(c,o),Object(s.d)(o,r),Object(s.d)(c,b)},p(t,e){t.users&&i!==(i=e.user+"")&&Object(s.O)(l,i),t.users&&u!==(u=e.user)&&Object(s.f)(r,"data-audio",u),t.status&&Object(s.S)(c,"calling","calling"==e.status),(t.status||t.users)&&Object(s.S)(c,"user-talking",e.status==`user-talking:${e.user}`),t.status&&Object(s.S)(c,"talking","talking"==e.status)},d(t){t&&Object(s.t)(c)}}}function p(t){var e,c=new u.a({props:{disabled:"calling"==t.status,$$slots:{default:[g]},$$scope:{ctx:t}}});return c.$on("click",t.talk),{c(){c.$$.fragment.c()},l(t){c.$$.fragment.l(t)},m(t,n){Object(s.E)(c,t,n),e=!0},p(t,e){var s={};t.status&&(s.disabled="calling"==e.status),t.$$scope&&(s.$$scope={changed:t,ctx:e}),c.$set(s)},i(t){e||(Object(s.T)(c.$$.fragment,t),e=!0)},o(t){Object(s.U)(c.$$.fragment,t),e=!1},d(t){Object(s.s)(c,t)}}}function v(t){var e,c=new u.a({props:{$$slots:{default:[m]},$$scope:{ctx:t}}});return c.$on("click",t.hang),{c(){c.$$.fragment.c()},l(t){c.$$.fragment.l(t)},m(t,n){Object(s.E)(c,t,n),e=!0},p(t,e){var s={};t.$$scope&&(s.$$scope={changed:t,ctx:e}),c.$set(s)},i(t){e||(Object(s.T)(c.$$.fragment,t),e=!0)},o(t){Object(s.U)(c.$$.fragment,t),e=!1},d(t){Object(s.s)(c,t)}}}function g(t){var e;return{c(){e=Object(s.u)("i"),this.h()},l(t){e=Object(s.l)(t,"I",{class:!0},!1),Object(s.k)(e).forEach(s.t),this.h()},h(){Object(s.f)(e,"class","icon-mic")},m(t,c){Object(s.B)(t,e,c)},d(t){t&&Object(s.t)(e)}}}function m(t){var e;return{c(){e=Object(s.u)("i"),this.h()},l(t){e=Object(s.l)(t,"I",{class:!0},!1),Object(s.k)(e).forEach(s.t),this.h()},h(){Object(s.f)(e,"class","icon-mic")},m(t,c){Object(s.B)(t,e,c)},d(t){t&&Object(s.t)(e)}}}function $(t){var e,c,n,l,a,o,r,u,b="connecting"==t.status&&j();function i(t,e){return e.users.length>0?h:d}var O=i(0,t),f=O(t),g=[v,p],m=[];function $(t,e){return"talking"==e.status?0:1}return o=$(0,t),r=m[o]=g[o](t),{c(){b&&b.c(),e=Object(s.Q)(),c=Object(s.Q)(),n=Object(s.u)("div"),f.c(),l=Object(s.Q)(),a=Object(s.u)("div"),r.c(),this.h()},l(t){b&&b.l(t),e=Object(s.m)(t),c=Object(s.m)(t),n=Object(s.l)(t,"DIV",{class:!0},!1);var o=Object(s.k)(n);f.l(o),o.forEach(s.t),l=Object(s.m)(t),a=Object(s.l)(t,"DIV",{class:!0},!1);var u=Object(s.k)(a);r.l(u),u.forEach(s.t),this.h()},h(){Object(s.f)(n,"class","container svelte-bzxj5"),Object(s.f)(a,"class","talk-button svelte-bzxj5"),Object(s.S)(a,"hang","talking"==t.status)},m(t,r){b&&b.m(t,r),Object(s.B)(t,e,r),Object(s.B)(t,c,r),Object(s.B)(t,n,r),f.m(n,null),Object(s.B)(t,l,r),Object(s.B)(t,a,r),m[o].m(a,null),u=!0},p(t,c){"connecting"==c.status?b||((b=j()).c(),b.m(e.parentNode,e)):b&&(b.d(1),b=null),O===(O=i(0,c))&&f?f.p(t,c):(f.d(1),(f=O(c))&&(f.c(),f.m(n,null)));var l=o;(o=$(0,c))===l?m[o].p(t,c):(Object(s.z)(),Object(s.U)(m[l],1,1,()=>{m[l]=null}),Object(s.j)(),(r=m[o])||(r=m[o]=g[o](c)).c(),Object(s.T)(r,1),r.m(a,null)),t.status&&Object(s.S)(a,"hang","talking"==c.status)},i(t){u||(Object(s.T)(r),u=!0)},o(t){Object(s.U)(r),u=!1},d(t){b&&b.d(t),t&&(Object(s.t)(e),Object(s.t)(c),Object(s.t)(n)),f.d(),t&&(Object(s.t)(l),Object(s.t)(a)),m[o].d()}}}function k(t){var e,c=new r.a({props:{$$slots:{default:[$],title:[O]},$$scope:{ctx:t}}});return{c(){c.$$.fragment.c()},l(t){c.$$.fragment.l(t)},m(t,n){Object(s.E)(c,t,n),e=!0},p(t,e){var s={};(t.$$scope||t.status||t.users)&&(s.$$scope={changed:t,ctx:e}),c.$set(s)},i(t){e||(Object(s.T)(c.$$.fragment,t),e=!0)},o(t){Object(s.U)(c.$$.fragment,t),e=!1},d(t){Object(s.s)(c,t)}}}function y(t,e,c){const{popupNotification:s}=Object(b.a)("layout");let n,r,u=Object(o.a)(),i=[],j="connecting",O=new l.a(u.username,a.a.peerOptions),d={};function h(){"disconnected"!=j&&O.listAllPeers(t=>{c("users",i=t.filter(t=>t!=u.username))})}return Object(b.c)(()=>{navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(t=>{r=t}).catch(t=>{s("Debe aceptar compartir su micrófono","error",3e3),Object(o.a)(!1),router.route("/login")})}),Object(b.b)(()=>{n&&clearInterval(n)}),O.on("open",t=>{c("status",j="connected"),h(),n=setInterval(h,1500)}),O.on("call",t=>{t.answer(r),t.on("stream",e=>{document.querySelector(`[data-audio='${t.peer}']`).srcObject=e}),t.on("close",()=>{c("status",j="connected")})}),O.on("error",t=>{let e;switch(t.type){case"server-error":case"disconnected":case"network":case"invalid-id":case"unavailable-id":e="invalid-id"==t.type?"Nombre de usuario no válido":"unavailable-id"==t.type?"Nombre de usuario no disponible":"Error en la conexión. Inténtelo de nuevo o contacte un administrador",Object(o.a)(!1),router.route("/login")}e&&s(e,"error",3e3)}),{user:u,users:i,status:j,talk:function(){i.forEach(t=>{console.log(t);let e=O.call(t,r);c("status",j="calling");let s=setInterval(()=>{e.open&&(c("status",j="talking"),clearInterval(s))},10);e.on("close",()=>{c("status",j="connected"),clearInterval(s)}),d[t]=e})},hang:function(){c("status",j="connected");for(let t in d)d[t].close()}}}class E extends s.a{constructor(t){super(),Object(s.A)(this,t,y,k,s.M,[])}}e.default=E},ARAt:function(t,e,c){},B1Ou:function(t,e,c){"use strict";var s=c("mg/X");c("lLAs");function n(t){var e;const c=t.$$slots.default,n=Object(s.q)(c,t,null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,c){n&&n.m(t,c),e=!0},p(t,e){n&&n.p&&t.$$scope&&n.p(Object(s.x)(c,e,t,null),Object(s.y)(c,e,null))},i(t){e||(Object(s.T)(n,t),e=!0)},o(t){Object(s.U)(n,t),e=!1},d(t){n&&n.d(t)}}}function l(t){var e;function c(t,e){return e.loadingContent?o:a}var n=c(0,t),l=n(t);return{c(){l.c(),e=Object(s.v)()},l(t){l.l(t),e=Object(s.v)()},m(t,c){l.m(t,c),Object(s.B)(t,e,c)},p(t,s){n===(n=c(0,s))&&l?l.p(t,s):(l.d(1),(l=n(s))&&(l.c(),l.m(e.parentNode,e)))},i:s.F,o:s.F,d(t){l.d(t),t&&Object(s.t)(e)}}}function a(t){var e,c;return{c(){e=Object(s.u)("div"),c=Object(s.u)("span"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"SPAN",{class:!0},!1),Object(s.k)(c).forEach(s.t),n.forEach(s.t),this.h()},h(){Object(s.f)(c,"class","icon-loading icon-spinner svelte-1oke8fd"),Object(s.f)(e,"class","loading svelte-1oke8fd")},m(t,n){Object(s.B)(t,e,n),Object(s.d)(e,c)},p:s.F,d(t){t&&Object(s.t)(e)}}}function o(t){var e;return{c(){e=Object(s.u)("div"),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1),Object(s.k)(e).forEach(s.t),this.h()},h(){Object(s.f)(e,"class","loading svelte-1oke8fd")},m(c,n){Object(s.B)(c,e,n),e.innerHTML=t.loadingContent},p(t,c){t.loadingContent&&(e.innerHTML=c.loadingContent)},d(t){t&&Object(s.t)(e)}}}function r(t){var e,c,a,o,r,u,b,i,j=[l,n],O=[];function d(t,e){return e.loading?0:1}return a=d(0,t),o=O[a]=j[a](t),{c(){e=Object(s.u)("div"),c=Object(s.u)("button"),o.c(),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"BUTTON",{class:!0,disabled:!0,type:!0},!1);var l=Object(s.k)(c);o.l(l),l.forEach(s.t),n.forEach(s.t),this.h()},h(){Object(s.f)(c,"class",r=Object(s.G)(`style-${t.style}`)+" svelte-1oke8fd"),c.disabled=u=t.loading||t.disabled,Object(s.f)(c,"type",t.type),Object(s.S)(c,"pressed",t.pressed),Object(s.S)(c,"loading",t.loading),Object(s.f)(e,"class","button svelte-1oke8fd"),i=[Object(s.D)(c,"mousedown",t.mousedown_handler),Object(s.D)(c,"mouseup",t.mouseup_handler),Object(s.D)(c,"touchstart",t.touchstart_handler),Object(s.D)(c,"touchend",t.touchend_handler),Object(s.D)(c,"click",t.click_handler),Object(s.D)(c,"dblclick",t.dblclick_handler)]},m(t,n){Object(s.B)(t,e,n),Object(s.d)(e,c),O[a].m(c,null),b=!0},p(t,e){var n=a;(a=d(0,e))===n?O[a].p(t,e):(Object(s.z)(),Object(s.U)(O[n],1,1,()=>{O[n]=null}),Object(s.j)(),(o=O[a])||(o=O[a]=j[a](e)).c(),Object(s.T)(o,1),o.m(c,null)),b&&!t.style||r===(r=Object(s.G)(`style-${e.style}`)+" svelte-1oke8fd")||Object(s.f)(c,"class",r),b&&!t.loading&&!t.disabled||u===(u=e.loading||e.disabled)||(c.disabled=u),b&&!t.type||Object(s.f)(c,"type",e.type),(t.style||t.pressed)&&Object(s.S)(c,"pressed",e.pressed),(t.style||t.loading)&&Object(s.S)(c,"loading",e.loading)},i(t){b||(Object(s.T)(o),b=!0)},o(t){Object(s.U)(o),b=!1},d(t){t&&Object(s.t)(e),O[a].d(),Object(s.L)(i)}}}function u(t,e,c){let{type:n="button",loadingContent:l,loading:a=!1,disabled:o=!1,pressed:r=!1,style:u=1,className:b}=e,{$$slots:i={},$$scope:j}=e;return t.$set=t=>{"type"in t&&c("type",n=t.type),"loadingContent"in t&&c("loadingContent",l=t.loadingContent),"loading"in t&&c("loading",a=t.loading),"disabled"in t&&c("disabled",o=t.disabled),"pressed"in t&&c("pressed",r=t.pressed),"style"in t&&c("style",u=t.style),"className"in t&&c("className",b=t.className),"$$scope"in t&&c("$$scope",j=t.$$scope)},{type:n,loadingContent:l,loading:a,disabled:o,pressed:r,style:u,className:b,mousedown_handler:function(e){Object(s.i)(t,e)},mouseup_handler:function(e){Object(s.i)(t,e)},touchstart_handler:function(e){Object(s.i)(t,e)},touchend_handler:function(e){Object(s.i)(t,e)},click_handler:function(e){Object(s.i)(t,e)},dblclick_handler:function(e){Object(s.i)(t,e)},$$slots:i,$$scope:j}}class b extends s.a{constructor(t){super(),Object(s.A)(this,t,u,r,s.M,["type","loadingContent","loading","disabled","pressed","style","className"])}}e.a=b},EAKa:function(t,e){function c(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}c.keys=function(){return[]},c.resolve=c,t.exports=c,c.id="EAKa"},aAur:function(t,e,c){},lLAs:function(t,e,c){},"vI+7":function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));c("v1QU");var s={peerOptions:{host:"gamac.tech",port:9e3,path:"/",config:{iceServers:[{url:"stun:stun01.sipphone.com"},{url:"stun:stun.ekiga.net"},{url:"stun:stun.fwdnet.net"},{url:"stun:stun.ideasip.com"},{url:"stun:stun.iptel.org"},{url:"stun:stun.rixtelecom.se"},{url:"stun:stun.schlund.de"},{url:"stun:stun.l.google.com:19302"},{url:"stun:stun1.l.google.com:19302"},{url:"stun:stun2.l.google.com:19302"},{url:"stun:stun3.l.google.com:19302"},{url:"stun:stun4.l.google.com:19302"},{url:"stun:stunserver.org"},{url:"stun:stun.softjoys.com"},{url:"stun:stun.voiparound.com"},{url:"stun:stun.voipbuster.com"},{url:"stun:stun.voipstunt.com"},{url:"stun:stun.voxgratia.org"},{url:"stun:stun.xten.com"},{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"},{url:"turn:192.158.29.39:3478?transport=udp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{url:"turn:192.158.29.39:3478?transport=tcp",credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"}]}}}},yMVk:function(t,e,c){"use strict";var s=c("mg/X");c("ARAt");const n=()=>({}),l=()=>({});function a(t){var e,c,a,o,r,u;const b=t.$$slots.title,i=Object(s.q)(b,t,l),j=t.$$slots.default,O=Object(s.q)(j,t,null);return{c(){e=Object(s.u)("div"),c=Object(s.u)("header"),a=Object(s.u)("h2"),i&&i.c(),o=Object(s.Q)(),r=Object(s.u)("div"),O&&O.c(),this.h()},l(t){e=Object(s.l)(t,"DIV",{class:!0},!1);var n=Object(s.k)(e);c=Object(s.l)(n,"HEADER",{class:!0},!1);var l=Object(s.k)(c);a=Object(s.l)(l,"H2",{class:!0},!1);var u=Object(s.k)(a);i&&i.l(u),u.forEach(s.t),l.forEach(s.t),o=Object(s.m)(n),r=Object(s.l)(n,"DIV",{class:!0},!1);var b=Object(s.k)(r);O&&O.l(b),b.forEach(s.t),n.forEach(s.t),this.h()},h(){Object(s.f)(a,"class","svelte-1vdj57x"),Object(s.f)(c,"class","svelte-1vdj57x"),Object(s.f)(r,"class","content svelte-1vdj57x"),Object(s.f)(e,"class","container svelte-1vdj57x")},m(t,n){Object(s.B)(t,e,n),Object(s.d)(e,c),Object(s.d)(c,a),i&&i.m(a,null),Object(s.d)(e,o),Object(s.d)(e,r),O&&O.m(r,null),u=!0},p(t,e){i&&i.p&&t.$$scope&&i.p(Object(s.x)(b,e,t,n),Object(s.y)(b,e,l)),O&&O.p&&t.$$scope&&O.p(Object(s.x)(j,e,t,null),Object(s.y)(j,e,null))},i(t){u||(Object(s.T)(i,t),Object(s.T)(O,t),u=!0)},o(t){Object(s.U)(i,t),Object(s.U)(O,t),u=!1},d(t){t&&Object(s.t)(e),i&&i.d(t),O&&O.d(t)}}}function o(t,e,c){let{$$slots:s={},$$scope:n}=e;return t.$set=t=>{"$$scope"in t&&c("$$scope",n=t.$$scope)},{$$slots:s,$$scope:n}}class r extends s.a{constructor(t){super(),Object(s.A)(this,t,o,a,s.M,[])}}e.a=r}}]);
//# sourceMappingURL=3.chunk.9d1c9.js.map